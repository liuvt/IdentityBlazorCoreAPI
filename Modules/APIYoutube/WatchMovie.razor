@page "/list-videos/w/{listId}"
@inherits WatchMovieBase
<PageTitle>Xem video - AugCenter</PageTitle>
@if(videos == null)
{
    <MudProgressCircular Color="Color.Secondary" Indeterminate="true" />
}
else
{
    <MudMainContent Class="augBackground">
    <MudContainer MaxWidth="MaxWidth.Large" Class="augImg mt-5">
        <MudGrid>
            <MudItem sm="12" md="8">
                <MudItem Class="mt-3">
                    <MudPaper Class="d-flex align-center rounded-lg" Elevation="1" Style="height:450px">
                        <iframe 
                                width="100%" height="100%" class="rounded-lg"
                                src="https://www.youtube.com/embed/@(video.VideoId)?autoplay=1"
                                frameborder="0" allow="accelerometer autoplay clipboard-write
                                encrypted-media gyroscope picture-in-picture web-share" allowfullscreen>
                        </iframe>
                    </MudPaper>
                </MudItem>
                <MudItem Class="mt-3">
                    <MudText Typo="Typo.h6">@video.VideoTitle</MudText>
                </MudItem>
                <MudItem Class="mt-3">
                    <MudPaper Class="pa-2 rounded-lg" Elevation="1" >
                        <MudText Typo="Typo.body2">@video.VideoDescription</MudText>
                    </MudPaper>
                </MudItem>
            </MudItem>
            <MudItem sm="12" md="4">
                <MudPaper Elevation="4">
                    <MudPaper Elevation="4" Class="pa-3 mt-3">
                        <MudText Typo="Typo.h6">@playListItem.PlayListTitle</MudText>
                        <MudText Typo="Typo.body2">Total video: @videos.Count()</MudText>
                    </MudPaper>
                    <MudPaper Elevation="4" MaxHeight="450px" Class="mt-3 d-flex flex-wrap overflow-auto">
                        @foreach(var item in videos)
                        {
                            <MudPaper Class="d-flex flex-wrap mb-2 durk7HoverLink" Elevation="4" >
                                <MudLink OnClick="@(() => selectVideo(item.VideoId))" Underline="Underline.None">
                                    <MudGrid Class="pa-2 d-flex align-center">
                                        <MudItem sm="12" md="4">
                                            <img src="@item.VideoThumbnail" width="100%" height="100%"/>
                                        </MudItem>
                                        <MudItem sm="12" md="8">
                                            <MudText>@item.VideoTitle</MudText>
                                        </MudItem>
                                    </MudGrid>
                                </MudLink>
                            </MudPaper>
                        }
                    </MudPaper>
                </MudPaper>
            </MudItem>
        </MudGrid>
    </MudContainer>
    </MudMainContent>
}